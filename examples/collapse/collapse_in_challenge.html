<h2 id="step-5---record-video-to-a-file">Step 5 - Record video to a file</h2>

<p>Seeing the intruder on the screen in a camera preview isn’t much help to you with detecting intruders into your room. Instead, let’s record a video of the intruder for you to  view later on when you get home.</p>

<ol>
  <li>
    <p>Create a variable called <code>filename</code> inside your infinite loop to store the video file name</p>

    <pre><code class="language-python"> filename = "intruder.h264"
</code></pre>

    <p>In case you are wondering, <code>.h264</code> is the video format</p>
  </li>
  <li>
    <p>Find the line of code where you begin the camera preview and replace it with a line of code to start recording a video</p>

    <pre><code class="language-python"> camera.start_recording(filename)
</code></pre>
  </li>
  <li>
    <p>Find the line of code where you stop the camera preview and replace it with a line of code to stop recording.</p>
  </li>
</ol>

<div class="c-project-panel c-project-panel--hints">
  <h3 class="c-project-panel__heading js-project-panel__toggle">
    I need a hint
  </h3>

  <div class="c-project-panel__content js-project-panel--initialise-swiper u-hidden">
    <div class="c-project-panel__swiper">
      <div class="c-project-panel__swiper-wrapper">
        <div class="c-project-panel__swiper-slide">
  <p>Look at the line of code you used to start recording and see if you can work out the code to stop recording</p>

</div>

<div class="c-project-panel__swiper-slide">
  <p>Here is the finished code</p>
<pre><code class="language-python">while True:
    filename = "intruder.h264"
    pir.wait_for_motion()
    camera.start_recording(filename)
    pir.wait_for_no_motion()
	camera.stop_recording()
</code></pre>

</div>
      </div>

      <div class="c-project-panel__swiper-pagination">
        <span class="c-project-panel__swiper-bullet"></span>
        <span class="c-project-panel__swiper-bullet"></span>
        <span class="c-project-panel__swiper-bullet"></span>
      </div>

      <div class="c-project-panel__swiper-button c-project-panel__swiper-button--next"></div>
      <div class="c-project-panel__swiper-button c-project-panel__swiper-button--prev"></div>
    </div>
  </div>
</div>

<ol>
  <li>Save and run your program by pressing <strong>F5</strong>. Check that a file called <code>intruder.h264</code> appears in the same folder as your <code>parent-detector.py</code> file.</li>
</ol>


<p>Every time a new intruder triggers the motion sensor the video will be overwritten. If you have lots of pesky parents or brothers and sisters intruding into your room, you want to keep videos of all of them. Can you write some code to automatically find out the current date and time and add it to the video filename so that each video we take will have a different filename?</p>

<div class="c-project-panel c-project-panel--ingredient">
  <h3 class="c-project-panel__heading js-project-panel__toggle">
    Getting the date and time in Python
  </h3>

  <div class="c-project-panel__content u-hidden">
    <p>[[[generic-python-timestamps]]]</p>

  </div>
</div>
